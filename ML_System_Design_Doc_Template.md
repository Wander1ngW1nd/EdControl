# ML System Design - EdControl

*Шаблон ML System Design Doc от телеграм-канала [Reliable ML](https://t.me/reliable_ml)*   


### 1. Цели и предпосылки 
#### 1.1. Зачем идем в разработку продукта?  

**Бизнес-цель:** Продукт помогает решить проблемы оценки образования, помогая онлайн платформам экономить время менеджеров при ручном просмотре видео-уроков преподавателей и повышать бизнес метрики компании, выявляя на ранней стадии не компетентных преподавателей. 
**Почему станет лучше, чем сейчас, от использования ML:** Автоматическая обработка видео, загруженного на платформу. Полная аналитика с тайм-кодами, дашбордами без использования человеческих ресурсов.  
**Что будем считать успехом итерации с точки зрения бизнеса:** Внедрение рабочего сервиса в LMS систему бизнеса. 

#### 1.2. Бизнес-требования и ограничения  
**Целевое решение:** сервис для аналитики видео-уроков

**Логика работы:**
- Онлайн урок (видео-урок) ведется под запись, после этого запись попадает на сервер.
- Там видео обрабатывается различными ML моделями.
- После окончания всей обработки на корпоративном сайте появляется аналитика по данному видео уроку.

**Бизнес-ограничения:**

**Критерии успеха и возможные пути развития проекта:** критерием успеха служит позитивная обратная связь заказчиков на разработанный сервис аналитики и уменьшение трудозатрат на ручной расчёт.

Сейчас бизнес в индустрии тратит деньги на менеджеров, которые просматривают видео уроки самостоятельно. У этих людей есть пункты по которым они оценивают качество проведенного урока преподавателем. На это тратятся как деньги, так и время. 
С нашим сервисом у бизнеса не будет потребности в таких работниках и времени на обработку видео будет уходить меньше.

#### 1.3. Что входит в скоуп проекта/итерации, что не входит   

**Результат с точки зрения качества кода и воспроизводимости решения:** Репозиторий github с веб приложением streamlit. С отдельными python файлами на каждую модель обработки входных данных.

#### 1.4. Предпосылки решения  

**Проблема:**
На сегодняшний день, существует большое количество платформ для онлайн-обучения. Существуют как крупные онлайн-школы, так и более малые по количеству учащихся. И из-за большого потока клиентов необходимо набирать преподавателей для проведения занятий. И менеджеры не всегда могут понять на сколько преподаватель компетентен в области soft skills при подаче материала. Следовательно, необходимо вовремя определять агрессивных и не умеющих контролировать свои эмоции преподавателей, для сохранения репутации компании.

**Зачем нужен сервис (пример использования):**
Наш продукт предлагает решение данной проблемы оценки образования, помогая онлайн платформам экономить время менеджеров при ручном просмотре видео-уроков преподавателей и повышать бизнес метрики компании, выявляя на ранней стадии не компетентных преподавателей. Проблема решается путем распознавания негативных эмоций клиента во время онлайн-урока с преподавателем. Вы загружаете запись видео-урока в наш сервис и получаете dashboard с информацией и аналитикой по всему уроку. Также на данном dash-board, при выявлении каких-либо негативных ситуаций, можно увидеть конкретные timestamp, когда была замечена эмоция и на сколько она велика.

### 2. Методология  

#### 2.1. Постановка задачи  

- Улучшение ML модели Emotion Recognition
- Улучшение ML модели Diarization

Финальный результат модели - предоставление готового сервиса для аналитики

#### 2.2. Блок-схема решения  

- Блок-схема для бейзлайна и основного MVP с ключевыми этапами решения задачи: подготовка данных, построение прогнозных моделей, оптимизация, тестирование, закрытие технического долга, подготовка пилота, другое. `Data Scientist`  
- [Пример возможной блок схемы](https://github.com/IrinaGoloshchapova/ml_system_design_doc_ru/blob/main/product_schema.png?raw=true)
> Схема обязательно включает в себя архитектуру бейзлайна. Если бейзлайн и основной MVP отличаются несущественно, то это может быть одна блок-схема. Если значительно, то рисуем две: отдельно для бейзлайна, отдельно для основного MVP.  
> Если блок-схема **шаблонна** - т.е. её можно скопировать и применить к разным продуктам, то она **некорректна**. Блок-схема должна показывать схему решения для конкретной задачи, поставленной в части 1.    

#### 2.3. Этапы решения задачи 

#### **Этап 1. Анализ рынка**

Необходимо изучить конкурентов в сфере EdTech на российском рынке. Также рассмотреть аналоги заграничных продуктов.

#### **Этап 2. Продумать сервис с продуктовой точки зрения**

Сформулировать продуктовые гипотезы. По гипозам составить вопросы для интервью с людьми из бизнес индустрии.

#### **Этап 3. Получить обратную связь**

После проведения нескольких интервью, кастдевов с людьми из бизнес индустрии можно проанализировать всё, что было сказано ими в адрес нашего будущего продукта. 

#### **Этап 4. Реализация**

После четкого видения целевой аудитории продукта, его необходимости и желаемых фич можно приступать к реализации сервиса.

#### **Этап 5. ML Model Emotion Recognition**

Внедрение и развертывание модели для распознавания эмоций.

#### **Этап 6. ML Model Diarization**

Внедрение и развертывание модели для перевода видео в текст с разбиением на спикеров (преподаватель - клиент).

#### **Этап 7. Реализация API сервиса**

Реализация API сервиса выбранной архитектуры, реализация необходимых методов для работы сервиса
Результат - Реализованный докер образ API сервиса 

#### **Этап 8. Тестирование**
Проведение процедуры тестирования сервиса в dev-test среде (функциональные и нагрузочные тесты). Предварительно ожидается, что сервисом в текущем виде будут пользоваться до 10 человек несколько раз в сутки. В дальнейшем (если проект будет коммерчески успешен), планируется разработать полноценное приложение с фронтэндом, которое бы выдерживало большую нагрузку. 

#### **Этап 9. Подготовка документации**
Подготовка документации работы алгоритма и сервиса, описание методов API
 
#### **Этап 10. Запуск в продакшн, либо внедрение в LMS систему бизнес заказчика**
Развертка сервиса в продакшн среде и передача на поддержку dev-ops.

